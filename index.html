<!DOCTYPE html>
<html dir="rtl">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>מחשבון ROI שיווק</title>
   <link rel="stylesheet" href="css/main.css">
   <link rel="stylesheet" href="css/calculator.css">
   <link rel="stylesheet" href="css/footer.css">
</head>
<body>
   <div class="container">
       <h1>מחשבון ROI שיווק</h1>
       <div class="grid">
           <div class="inputs">
               <div class="input-group">
                   <label>יעד עסקאות</label>
                   <input type="number" id="targetDeals" oninput="calculate()" placeholder="הזן יעד עסקאות">
               </div>
               <div class="input-group">
                   <label>ממוצע הכנסה לעסקה (₪)</label>
                   <input type="number" id="revenuePerDeal" oninput="calculate()" placeholder="הזן הכנסה ממוצעת">
               </div>
               <div class="input-group">
                   <label>שולי רווח (%)</label>
                   <input type="number" id="profitMargin" oninput="calculate()" placeholder="הזן שולי רווח">
               </div>
               <div class="input-group">
                   <label>אחוז סגירה מליד (%)</label>
                   <input type="number" id="conversionRate" oninput="calculate()" placeholder="הזן אחוז סגירה">
               </div>
               <div class="input-group">
                   <label>עלות גיוס לקוח (₪)</label>
                   <input type="number" id="customerAcquisitionCost" oninput="calculate()" placeholder="הזן עלות גיוס">
               </div>
           </div>

           <div class="results">
               <div class="results-grid">
                   <div class="result-item">
                       <div class="result-label">כמות לידים נדרשת</div>
                       <div class="result-value" id="requiredLeads">0</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">עלות לליד</div>
                       <div class="result-value" id="costPerLead">₪0</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">עלות מדיה נדרשת</div>
                       <div class="result-value" id="mediaRequired">₪0</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">מחזור צפוי</div>
                       <div class="result-value" id="expectedRevenue">₪0</div>
                   </div>
                  <div class="result-item">
   <div class="result-label">אחוז עלות גיוס מהרווח</div>
   <div class="result-value" id="acquisitionCostPercentage">0%</div>
</div>
                   <div class="result-item">
                       <div class="result-label">רווח צפוי</div>
                       <div class="result-value" id="expectedProfit">₪0</div>
                   </div>
                   <div class="result-item total-revenue">
                       <div class="result-label">החזר השקעה</div>
                       <div class="result-value" id="roi">0%</div>
                   </div>
               </div>
           </div>
       </div>
   </div>

   <script>
       function formatNumber(num) {
           return new Intl.NumberFormat('he-IL', {
               maximumFractionDigits: 0
           }).format(num);
       }

       function calculate() {
           const targetDeals = parseFloat(document.getElementById('targetDeals').value) || 0;
           const revenuePerDeal = parseFloat(document.getElementById('revenuePerDeal').value) || 0;
           const profitMargin = parseFloat(document.getElementById('profitMargin').value) || 0;
           const conversionRate = parseFloat(document.getElementById('conversionRate').value) || 0;
           const customerAcquisitionCost = parseFloat(document.getElementById('customerAcquisitionCost').value) || 0;
          const acquisitionCostPercentage = expectedProfit ? (mediaRequired / expectedProfit) * 100 : 0;


           const requiredLeads = conversionRate ? (targetDeals / (conversionRate / 100)) : 0;
           const costPerLead = customerAcquisitionCost * (conversionRate / 100);
           const mediaRequired = requiredLeads * costPerLead;
           const expectedRevenue = targetDeals * revenuePerDeal;
           const expectedProfit = expectedRevenue * (profitMargin / 100);
           const roi = mediaRequired ? ((expectedProfit - mediaRequired) / mediaRequired) * 100 : 0;

           document.getElementById('requiredLeads').textContent = formatNumber(requiredLeads);
           document.getElementById('costPerLead').textContent = '₪' + formatNumber(costPerLead);
           document.getElementById('mediaRequired').textContent = '₪' + formatNumber(mediaRequired);
           document.getElementById('expectedRevenue').textContent = '₪' + formatNumber(expectedRevenue);
           document.getElementById('expectedProfit').textContent = '₪' + formatNumber(expectedProfit);
           document.getElementById('roi').textContent = roi.toLocaleString('he-IL', {
               minimumFractionDigits: 1,
               maximumFractionDigits: 1
           }) + '%';
          document.getElementById('acquisitionCostPercentage').textContent = acquisitionCostPercentage.toLocaleString('he-IL', {
   minimumFractionDigits: 1,
   maximumFractionDigits: 1
}) + '%';
       }
   </script>
</body>
</html>
